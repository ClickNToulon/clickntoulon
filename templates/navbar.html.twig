<nav class="navbar navbar-expand-xl navbar-dark border-bottom border-2">
    <div class="container-fluid">
        <a class="navbar-brand" href="{{ path('home') }}">
            <img src="{{ asset('images/logo-home.svg') }}" alt="" class="navbar-brand-img">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-nav" aria-controls="navbar-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse show" id="navbar-nav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item link-home">
                    <a class="nav-link {% if active == 'home' %}active{% endif %}" href="{{ path('home') }}">{% if active == 'home' %}<i class="bi-house-fill"></i>{% else %}<i class="bi-house"></i>{% endif %}</a>
                </li>
                <li class="nav-item link-shop">
                    <a class="nav-link {% if active == 'shop' %}active{% endif %}" href="{{ path('shop_index') }}"><i class="bi-shop-window"></i> Boutiques</a>
                </li>
                <li class="nav-item link-products">
                    <a class="nav-link {% if active == 'product' %}active{% endif %}" href="{{ path('product_index') }}"><i class="bi-box-seam"></i> Produits</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if active == 'search' %}active{% endif %}" href="{{ path('search')}}"><i class="bi-search"></i> Recherche</a>
                </li>
                {% if user is defined and user != null %}
                    <li class="nav-item">
                        <a class="nav-link {% if active == 'basket' %}active{% endif %}" href="{{ path('basket_index') }}"><i class="bi-cart"></i>Mon Panier</a>
                    </li>
                    {% if user is defined and is_granted('ROLE_MERCHANT') %}
                        <li class="nav-item link-products">
                            <a class="nav-link {% if active == 'my-shop' %}active{% endif %}" href="{{ path('seller_choose') }}"><i class="bi-shop"></i> Ma boutique</a>
                        </li>
                    {% endif %}
                {% endif %}
            </ul>
            <ul class="navbar-nav">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle user-link" id="dropdown-user" href="{{ path('user_edit') }}" data-bs-toggle="dropdown" aria-expanded="true">
                        <img src="{% if user is defined and user != null and user.avatar != null %}{{ asset('uploads/users/') ~ user.avatar }}{% else %}{{ asset('images/user.png') }}{% endif %}" class="navbar-brand-img user-navbar-image">
                        <div class="infos">
                            {% if user is defined and user != null and is_granted('ROLE_ADMIN') %}
                                {{ user.fullName }} <span class="admin-badge badge-header"><i class="fad fa-badge-check"></i></span>
                            {% elseif user is defined and user != null and is_granted('ROLE_USER') %}
                                {{ user.fullName }}
                            {% else %}
                                Mon compte
                            {% endif %}
                        </div>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark dropdown-menu-end dropdown-menu-lg-start dropdown-user" aria-labelledby="dropdown-user">
                        {% if user is defined and user != null and is_granted('ROLE_ADMIN') %}
                            <li><a class="dropdown-item" href="{{ path('admin') }}" target="_blank"><i class="bi-shield-lock-fill"></i> Administration</a></li>
                            <hr class="dropdown-divider">
                            <li><a class="dropdown-item" href="{{ path('user_edit') }}"><i class="bi-person-lines-fill"></i> Mes informations</a></li>
                            <li><a class="dropdown-item" href="{{ path('user_orders') }}"><i class="bi-bag-check-fill"></i> Mes commandes</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_logout') }}"><button class="btn btn-danger btn-no-mt"><i class="bi-box-arrow-right"></i> Déconnexion</button></a></li>
                        {% elseif user is defined and user != null and is_granted('ROLE_USER') %}
                            <li><a class="dropdown-item" href="{{ path('user_edit') }}"><i class="bi-person-lines-fill"></i> Mes informations</a></li>
                            <li><a class="dropdown-item" href="{{ path('user_orders') }}"><i class="bi-bag-check-fill"></i> Mes commandes</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_logout') }}"><button class="btn btn-danger btn-no-mt"><i class="bi-box-arrow-right"></i> Déconnexion</button></a></li>
                        {% else %}
                            <li><a class="dropdown-item" href="{{ path('app_login') }}"><i class="bi-box-arrow-in-right"></i> Connexion</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_signup') }}"><i class="bi-person-plus"></i> Inscription</a></li>
                        {% endif %}
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>