<nav class="navbar navbar-expand-lg navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand {% if active == 'home' %}active{% endif %}" href="{{ path('home') }}">{% if active == 'home' %}<i class="bi-house-fill"></i> Accueil{% else %}<i class="bi-house"></i> Accueil{% endif %}</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-nav" aria-controls="navbar-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse .show" id="navbar-nav">
            <ul class="navbar-nav">
                <li class="nav-item link-home">
                    <a class="nav-link {% if active == 'home' %}active{% endif %}" href="{{ path('home') }}">{% if active == 'home' %}<i class="bi-house-fill"></i>{% else %}<i class="bi-house"></i>{% endif %}</a>
                </li>
                <li class="nav-item link-shop">
                    <a class="nav-link {% if active == 'shop' %}active{% endif %}" href="{{ path('shop_index') }}"><i class="bi-shop-window"></i> Boutiques</a>
                </li>
                <li class="nav-item link-products">
                    <a class="nav-link {% if active == 'product' %}active{% endif %}" href="{{ path('product_index') }}"><i class="bi-box-seam"></i> Produits</a>
                </li>
                {% if user is defined and user != null and is_granted('ROLE_MERCHANT') %}
                <li class="nav-item link-products">
                    <a class="nav-link {% if active == 'my-shop' %}active{% endif %}" href="{{ path('seller_choose') }}"><i class="bi-shop"></i> Ma boutique</a>
                </li>
                {% endif %}
            </ul>
            <ul class="navbar-nav me-0 ms-auto">
                <li class="nav-item">
                    <a class="nav-link {% if active == 'search' %}active{% endif %}" href="{{ path('search')}}"><i class="bi-search"></i> Recherche</a>
                </li>
                {% if user is defined and user != null %}
                    <li class="nav-item">
                        <a class="nav-link {% if active == 'basket' %}active{% endif %}" href="{{ path('basket_index') }}"><i class="bi-cart"></i>Mon Panier</a>
                    </li>
                {% endif %}
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle show" id="dropdown-user" href="" data-bs-toggle="dropdown" aria-expanded="true"><i class="bi-person"></i>
                        {% if user is defined and user != null and is_granted('ROLE_ADMIN') %}
                            {{ user.username }} <span class="admin-badge badge-header"><i class="fad fa-badge-check"></i></span>
                        {% elseif user is defined and user != null and is_granted('ROLE_USER') %}
                            {{ user.username }}
                        {% else %}
                            Mon compte
                        {% endif %}
                    </a>
                    <ul class="dropdown-menu dropdown-menu-dark text-center show dropdown-menu-end dropdown-menu-lg-start dropdown-user" aria-labelledby="dropdown-user">
                        {% if user is defined and user != null and is_granted('ROLE_ADMIN') %}
                            <li><a class="dropdown-item" href="{{ path('admin') }}"><i class="bi-shield-lock"></i> Administration</a></li>
                            <li><a class="dropdown-item" href="{{ path('user_edit') }}"><i class="bi-person-lines-fill"></i> Mes informations</a></li>
                            <li><a class="dropdown-item" href="{{ path('user_orders') }}"><i class="bi-bag-check"></i> Mes commandes</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_logout') }}"><button class="btn btn-danger btn-no-mt"><i class="bi-box-arrow-right"></i> Déconnexion</button></a></li>
                        {% elseif user is defined and user != null and is_granted('ROLE_USER') %}
                            <li><a class="dropdown-item" href="{{ path('user_edit') }}"><i class="bi-person-lines-fill"></i> Mes informations</a></li>
                            <li><a class="dropdown-item" href="{{ path('user_orders') }}"><i class="bi-bag-check"></i> Mes commandes</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_logout') }}"><button class="fr-btn btn-danger btn-no-mt"><i class="bi-box-arrow-right"></i> Déconnexion</button></a></li>
                        {% else %}
                            <li><a class="dropdown-item" href="{{ path('app_login') }}"><i class="bi-box-arrow-in-right"></i> Connexion</a></li>
                            <li><a class="dropdown-item" href="{{ path('app_signup') }}"><i class="bi-person-plus"></i> Inscription</a></li>
                        {% endif %}
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>