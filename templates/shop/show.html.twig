{% extends 'base.html.twig' %}

{% block title %}
{{ shop.name }} - ClickNToulon
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/icons.js') }}"></script>
{% endblock %}

{% block body %}
    {% include 'navbar.html.twig' with {'active': 'shop'} %}
    <div class="bg-white">
        <div class="pt-6">
            <nav aria-label="Breadcrumb">
                <ol role="list" class="max-w-2xl mx-auto px-4 flex items-center space-x-2 sm:px-6 lg:max-w-7xl lg:px-8">
                    <li>
                        <div class="flex items-center">
                            <a href="{{ path('shop_show', {'slug': shop.slug}) }}" class="mr-2 text-sm font-medium text-black hover:text-yellow-500">
                                {{ shop.name }}
                            </a>
                            <svg width="16" height="20" viewBox="0 0 16 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" class="w-4 h-5 text-gray-300">
                                <path d="M5.697 4.34L8.98 16.532h1.327L7.025 4.341H5.697z" />
                            </svg>
                        </div>
                    </li>
                    <li>
                        <div class="flex items-center">
                            <a href="/produits?boutique={{ shop.slug }}" class="text-sm font-medium text-black hover:text-yellow-500">
                                Les produits
                            </a>
                        </div>
                    </li>
                </ol>
            </nav>
            <!-- Image gallery -->
            <div class="mt-6 max-w-2xl max-h-2xl mx-auto sm:px-6 lg:max-w-7xl lg:max-h-7xl lg:px-8 lg:grid lg:grid-cols-1 lg:gap-x-8">
                <div class="aspect-w-4 aspect-h-3 rounded-lg sm:overflow-hidden lg:aspect-w-3 lg:aspect-h-1">
                    <img src="{{ asset('uploads/shops/' ~ shop.image) }}" alt="Model wearing plain white basic tee." class="w-full h-full object-center object-cover rounded-lg">
                </div>
            </div>
            <!-- Product info -->
            <div class="max-w-2xl mx-auto pt-10 pb-10 px-4 sm:px-6 lg:max-w-7xl lg:pt-16 lg:pb-16 lg:px-8 lg:grid lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-0">
                <div class="lg:col-span-2 lg:border-r lg:border-gray-300 lg:pr-2">
                    <h1 class="text-2xl font-extrabold text-black sm:text-3xl">
                        {{ shop.name }}
                    </h1>
                </div>
                <!-- Options -->
                <div class="mt-4 lg:mt-0 lg:row-span-3 lg:pl-2">
                    <h2 class="sr-only">Horaires de la boutique</h2>
                    <div class="flex flex-col gap-y-2.5">
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Lundi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Lundi"] != null %} {{ hours["Lundi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Mardi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Mardi"] != null %} {{ hours["Mardi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Mercredi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Mercredi"] != null %} {{ hours["Mercredi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Jeudi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Jeudi"] != null %} {{ hours["Jeudi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Vendredi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Vendredi"] != null %} {{ hours["Vendredi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Samedi :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Samedi"] != null %} {{ hours["Samedi"]}}{% endif %}
                            </p>
                        </div>
                        <div class="text-black flex flex-row font-semibold">
                            <h3 class="">Dimanche :</h3>
                            <p class="ml-1">
                                {% if hours is iterable and hours["Dimanche"] != null %} {{ hours["Dimanche"]}}{% endif %}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="py-10 lg:pt-6 lg:pb-6 lg:col-start-1 lg:col-span-2 lg:border-r lg:border-gray-300 lg:pr-2">
                    <!-- Description and details -->
                    <div>
                        <h3 class="block sm:hidden text-2xl font-medium text-black mb-4 sm:mb-0">Description</h3>
                        <div class="space-y-6">
                            <p class="text-base text-black">{{ shop.description }}</p>
                        </div>
                        <div class="mt-10">
                            <h3 class="text-2xl font-medium text-black">Contact</h3>
                            <div class="mt-4">
                                <ul role="list" class="pl-2 list-none space-y-2 flex flex-col">
                                    <li class="text-black inline-flex items-center hover:text-yellow-500">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                                        </svg>
                                        <span class="text-black ml-1 hover:text-yellow-500">{{ shop.address }} {{ shop.postalCode }}</span>
                                    </li>
                                    <li class="text-black inline-flex items-center hover:text-yellow-500">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
                                        </svg>
                                        {% set splitArray = shop.phone|split('', 1) %}
                                        {% set first = splitArray|first %}
                                        {% set firstArray =  [0, first] | join('') %}
                                        {% set splitArray = splitArray|slice(1) %}
                                        {% set splitArray = splitArray|join('') %}
                                        {% set lastArray = [firstArray, splitArray] |join('') %}
                                        {% set finalSplit = lastArray|split('', 2) %}
                                        {% set formattedString = finalSplit|join(' ') %}
                                        <span class="text-black hover:text-yellow-500 ml-1"><a href="tel:{{ shop.phone }}">{{ formattedString }}</a></span>
                                    </li>
                                    {% if shop.email != null %}
                                    <li class="text-black inline-flex items-center hover:text-yellow-500">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207" />
                                        </svg>
                                        <span class="text-black ml-1 hover:text-yellow-500"><a href="mailto:{{ shop.email }}">{{ shop.email }}</a></span>
                                    </li>
                                    {% endif %}
                                </ul>
                            </div>
                        </div>
                        <div class="mt-10">
                            <h3 class="text-2xl font-medium text-black">Moyens de paiements</h3>
                            <div class="mt-4 grid grid-cols-5 sm:grid-cols-9 gap-x-3 max-w-2xl">
                                {% for payment in payments %}
                                    <p class="fs-sm mb-0 flex items-center justify-center w-full">
                                        <a class="w-full" title="{{ payment[1] }}"><img src="{{ asset('images/payments/' ~ payment[0]) }}" class="w-full h-auto" alt=""></a>
                                    </p>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% include 'footer.html.twig' %}
{% endblock %}

