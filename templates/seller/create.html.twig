{% extends 'base.html.twig' %}

{% block title 'Créer votre boutique - TouSolidaires' %}

{% block body %}
    {% include 'navbar.html.twig' with {'active': 'my-shop'} %}
    <div class="main-container">
        <div class="toast-container position-absolute p-3">
            {% for message in app.flashes('success') %}
                <div class="toast toast-success d-flex align-items-center bg-dark border-0" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-body d-flex align-items-center">
                        <div class="toast-icon">
                            <i class="bi-check-circle" aria-hidden="true"></i>
                        </div>
                        <div class="toast-text mx-2">
                            <p class="d-flex align-items-center text-center mb-0" style="font-size: 15px">{{ message }}</p>
                        </div>
                        <div class="alert__progress"></div>
                    </div>
                </div>
                <script>
                    const toastsWarning = [].slice.call(document.querySelectorAll('.toast-success'));
                    const toastsWarningItem = toastsWarning.map(function (toast) {
                        // Creates an array of toasts (it only initializes them)
                        return new bootstrap.Toast(toast, {"delay": 5010}) // No need for options; use the default options
                    });
                    toastsWarningItem.forEach(toast => toast.show()); // This show them
                </script>
            {% endfor %}
        </div>
        {{ form_start(form, {attr: {class: 'user-modify'}}) }}
        <h3 class="user-modify-title"><i class="bi-shop-window"></i> Informations de ma boutique</h3>
        <div class="forms form-modify">
            <i class="left">Tous les champs doivent être remplis, sauf pour l'adresse mail qui est facultatif.</i>
            <div class="row first">
                <div class="col-12 form-row">
                    {{ form_row(form.name) }}
                    {{ form_row(form.phone) }}
                </div>
            </div>
            <div class="row">
                <div class="col-12 form-row">
                    {{ form_row(form.email) }}
                </div>
            </div>
            <div class="row">
                <div class="col-12 form-row form-address">
                    {{ form_row(form.description) }}
                </div>
            </div>
            <div class="row">
                <div class="col-12 form-row form-address">
                    {{ form_row(form.address) }}
                </div>
            </div>
            <div class="row">
                <div class="col-12 form-row">
                    {{ form_row(form.postal_code) }}
                    {{ form_row(form.city) }}
                </div>
            </div>
        </div>
        <div class="button-submit">
            <button type="submit" class="btn btn-form" name="add_shop">Créer ma boutique</button>
        </div>
        {{ form_end(form) }}
    </div>
    {% include 'footer.html.twig' %}
{% endblock %}

