{% extends 'base.html.twig' %}

{% block title  'Connexion - TouSolidaires'%}

{% block body %}
    {% include 'navbar.html.twig' with {'active': 'login'} %}
    <div class="toast-container position-absolute p-3">
        {% if error %}
        <div role="alert" class="fr-alert fr-alert--error show" id="alert">
            <p>{{ error.messageKey|trans(error.messageData, 'security') }}</p>
        </div>
        <script>
            const alert = document.querySelector("#alert")
            console.log(alert)
            setTimeout(() => {
                alert.classList.remove('show')
            }, 10000);
        </script>
        {% endif %}
    </div>
    <div class="form form-login">
        <h2>Connexion</h2>
        <form method="post" class="forms">
            <label for="inputUsername">Nom d'Utilisateur</label>
            <input type="text" value="{{ last_username }}" name="username" id="inputUsername" class="fr-input form-control" required autofocus>
            <label for="inputPassword">Mot de passe</label>
            <input type="password" name="password" id="inputPassword" class="fr-input form-control last-input" required>
            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
            <div class="form-actions">
                <div class="checkbox">
                    <input class="form-check-input" type="checkbox" name="_remember_me">
                    <label class="form-check-label" for="checkbox">
                        Se souvenir de moi
                    </label>
                </div>
                <a href="" class="white">Mot de passe oubli√© ?</a>
            </div>
            <div class="buttons">
                <button class="btn btn-form" type="submit">Connexion</button>
            </div>
        </form>
    </div>
    {% include 'footer.html.twig' %}
{% endblock %}
